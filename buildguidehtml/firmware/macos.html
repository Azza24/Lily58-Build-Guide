

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MacOS &mdash; Lily58 Build Guide  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Windows" href="windows.html" />
    <link rel="prev" title="Flashing your keyboard" href="../chp3.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Lily58 Build Guide
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../chp1.html">Assembling your board</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chp2.html">Making your keymap</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../chp3.html">Flashing your keyboard</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">MacOS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#downloading-qmk-firmware">Downloading QMK firmware</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#installing-homebrew">Installing homebrew</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installing-your-dependencies">Installing your dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installing-qmk-toolbox">Installing QMK Toolbox</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#flashing-your-keyboard">Flashing your keyboard</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pro-micro">Pro Micro</a></li>
<li class="toctree-l4"><a class="reference internal" href="#elite-c">Elite-C</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reflashing">Reflashing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="windows.html">Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="linux.html">Linux (Arch)</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Lily58 Build Guide</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../chp3.html">Flashing your keyboard</a> &raquo;</li>
        
      <li>MacOS</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/firmware/macos.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="macos">
<h1>MacOS<a class="headerlink" href="#macos" title="Permalink to this headline">¶</a></h1>
<div class="section" id="downloading-qmk-firmware">
<h2>Downloading QMK firmware<a class="headerlink" href="#downloading-qmk-firmware" title="Permalink to this headline">¶</a></h2>
<p>Because I had some errors using qmk toolbox I compiled the files myself. This may sound a bit dounting but it isn’t that difficult.
First we need to get the source code which can either be cloned or downloaded as a zip from the <a class="reference external" href="https://github.com/qmk/qmk_firmware">github</a>.
If you decide to do this too you can skip the Installing QMK Toolbox part.</p>
<div class="section" id="installing-homebrew">
<h3>Installing homebrew<a class="headerlink" href="#installing-homebrew" title="Permalink to this headline">¶</a></h3>
<p>If you already have homebrew installed you can skip this step.
To install these dependencies you need to install homebrew.
To do this simply paste the following command in your terminal and press enter::
/bin/bash -c “$(curl -fsSL <a class="reference external" href="https://raw.githubusercontent.com/Homebrew/install/master/install.sh">https://raw.githubusercontent.com/Homebrew/install/master/install.sh</a>)”</p>
</div>
<div class="section" id="installing-your-dependencies">
<h3>Installing your dependencies<a class="headerlink" href="#installing-your-dependencies" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>To install the dependencies paste the following lines into your terminal separated by an enter::</dt><dd><p>brew install libusb
brew tap osx-cross/avr
brew tap PX4/homebrew-px4
brew update
brew install avr-gcc
brew install dfu-programmer
brew install gcc-arm-none-aebi
brew install avr-dude</p>
</dd>
</dl>
<p>If you’re curious what all these dependencies do, you can look them up on the home brew website.</p>
</div>
<div class="section" id="installing-qmk-toolbox">
<h3>Installing QMK Toolbox<a class="headerlink" href="#installing-qmk-toolbox" title="Permalink to this headline">¶</a></h3>
<p>Finally we arrive on downloading the actual QMK firmware.
You can download it at <a class="reference external" href="https://github.com/qmk/qmk_toolbox/releases">this</a> link.
Scroll down to assets and download the QMK.Toolbox.app.zip.
Unzip the file and place it in your applications folder.</p>
</div>
</div>
<div class="section" id="flashing-your-keyboard">
<h2>Flashing your keyboard<a class="headerlink" href="#flashing-your-keyboard" title="Permalink to this headline">¶</a></h2>
<p>I personally had a bit of trouble flashing my keyboard. This is because I made use of an elite-c on the left side. I ended up only using QMK toolbox for changing my keymap.
Both sides of the keyboard need to be flashed seperatly so make sure the trrs jack is disconnected. The first instructions will be on flashing the Pro Micro side and the second part is on the Elite-C side.</p>
<div class="section" id="pro-micro">
<h3>Pro Micro<a class="headerlink" href="#pro-micro" title="Permalink to this headline">¶</a></h3>
<p>Because I had some errors using qmk toolbox I compiled the files myself. This may sound a bit dounting but it isn’t that difficult.
First we need to get the source code which can either be cloned or downloaded as a zip from the <a class="reference external" href="https://github.com/qmk/qmk_firmware">github</a>.</p>
<dl class="simple">
<dt>Then open a terminal and navigate to the folder::</dt><dd><p>cd (drag unziped folder to your terminal)</p>
</dd>
<dt>Compile the sourcecode and flash by typing the following command::</dt><dd><p>make lily58:default:avrdude</p>
</dd>
</dl>
<p>You will now be asked to reset your controller. You can do this by pressing the reset button. If everything goes as it should you will now have a working side.
Do the same to the other side and you’ll have a fully functioning lily!</p>
</div>
<div class="section" id="elite-c">
<h3>Elite-C<a class="headerlink" href="#elite-c" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>Like with the Pro Micro navigate to the right folder::</dt><dd><p>cd (drag unziped folder to your terminal)</p>
</dd>
</dl>
<p>We need to change some settings before we flash.</p>
<dl class="simple">
<dt>First navigate to the lily folder::</dt><dd><p>cd keyboards/lily58</p>
</dd>
</dl>
<p>We need to check if we need to make changes to rules.mk so open this with your preffered editor. I use nvim but please don’t use this if you don’t know what you’re doing.</p>
<dl class="simple">
<dt>If this is your first time editing something in the terminal use nano instead::</dt><dd><p>nano rules.mk</p>
</dd>
</dl>
<p>Look for the line that says BOOTLOADER =. This line will probably say caterina. The elite-c uses a different bootloader then the Pro Micro so we need to change this to say atmel-dfu. Once you’ve changed it you can save it and navigate back to the source folder.
You can either repeat the first command, or move up two folders by using cd ../..</p>
<dl class="simple">
<dt>Compile and flash the code::</dt><dd><p>make lily58:default:dfu</p>
</dd>
</dl>
</div>
<div class="section" id="reflashing">
<h3>Reflashing<a class="headerlink" href="#reflashing" title="Permalink to this headline">¶</a></h3>
<p>If you don’t like the default keymap and want to use the one you’ve made all you need to do is unplug the right side (assuming you use the left one as the one you plug in). Do make sure however that nothing is connected to your computer when you do this. One of the pins of the trrs jack is 5V and could damage the controler if you unplug while powered on.
Open qmk toolbox. Load in your .hex file at the top field labeled local file and press flash. It’ll ask you to reset again and then you’re done!</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="windows.html" class="btn btn-neutral float-right" title="Windows" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../chp3.html" class="btn btn-neutral float-left" title="Flashing your keyboard" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Jamrulezz1

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>